(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cef8c"],{6271:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-subheader",{staticClass:"title"},[t._v("Admins")]),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.header,items:t.admins,loading:t.loading,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",[e("td",[t._v(t._s(a.item.id))]),e("td",[t._v(t._s(a.item.login))]),e("td",[t._v(t._s(a.item.date))]),e("td",{staticClass:"text-xs-right"},[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){e.stopPropagation(),t.edit(a.item)}}},[t._v("edit")]),e("v-icon",{attrs:{small:""},on:{click:function(e){e.stopPropagation(),t.del(a.item)}}},[t._v("delete")])],1)])]}}])})],1),e("v-flex",{attrs:{xs12:""}},[e("v-subheader",{staticClass:"title"},[t._v("Add Admin")]),e("v-card",[e("v-container",{attrs:{fluid:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-text-field",{attrs:{label:"Login"},model:{value:t.login,callback:function(a){t.login=a},expression:"login"}})],1),e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.pass,callback:function(a){t.pass=a},expression:"pass"}})],1)],1),e("v-btn",{attrs:{color:"primary"},on:{click:function(a){return a.stopPropagation(),t.add(a)}}},[t._v("ADD")])],1)],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog.value,callback:function(a){t.$set(t.dialog,"value",a)},expression:"dialog.value"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v("Edit")])]),e("v-card-text",[e("v-container",{attrs:{"grid-list-md":""}},[e("v-layout",{attrs:{wrap:"",row:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Login"},model:{value:t.dialog.data.login,callback:function(a){t.$set(t.dialog.data,"login",a)},expression:"dialog.data.login"}})],1),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.dialog.data.pass,callback:function(a){t.$set(t.dialog.data,"pass",a)},expression:"dialog.data.pass"}})],1)],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue",flat:""},nativeOn:{click:function(a){t.dialog.value=!1}}},[t._v("Cancel")]),e("v-btn",{attrs:{color:"blue"},nativeOn:{click:function(a){return t.update(a)}}},[t._v("Save")])],1)],1)],1)],1)},i=[];function o(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{},n=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.forEach(function(a){l(t,a,e[a])})}return t}function l(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var r={name:"admins",data:function(){return{login:"",pass:"",header:[{text:"ID",value:"id"},{text:"Login",value:"login"},{text:"Date",value:"date"},{text:"Actions",value:"name",align:"right",sortable:!1}],admins:[],loading:!0,dialog:{value:!1,data:{}}}},methods:{add:function(){var t=this,a=new FormData;a.append("login",this.login),a.append("pass",this.pass);var e=window.location.protocol+"//"+window.location.hostname+":4243";fetch("".concat(e,"/admin/addAdmin"),{method:"POST",credentials:"include",body:a}).then(function(t){if(t.ok)return t;throw t}).then(function(a){t.$notify({group:"main",title:"Success !",type:"success",text:"Admin added!"}),t.login="",t.pass="",t.getAdmins()}).catch(function(){return t.$notify({group:"main",title:"Error !",type:"error",text:"Unable to add admin!"})})},del:function(t){var a=this,e=t.id;if(confirm("Are you sure ?")){var n=window.location.protocol+"//"+window.location.hostname+":4243";fetch("".concat(n,"/admin/delAdmin/").concat(e),{method:"GET",credentials:"include"}).then(function(t){var n=t.ok;n?(a.admins=a.admins.filter(function(t){var a=t.id;return a!==e}),a.$notify({group:"main",title:"Success !",type:"success",text:"Admin removed!"})):a.$notify({group:"main",title:"Error !",type:"error",text:"Unable to remove admin!"})})}},edit:function(t){this.dialog.value=!0,this.dialog.data=o({},t)},update:function(){var t=this;if(0!=this.dialog.value){var a=window.location.protocol+"//"+window.location.hostname+":4243",e=new FormData;e.append("data",JSON.stringify(this.dialog.data)),fetch("".concat(a,"/admin/updateAdmin"),{method:"POST",credentials:"include",body:e}).then(function(t){if(t.ok)return t;throw t}).then(function(a){t.$notify({group:"main",title:"Success !",type:"success",text:"Admin edited!"}),t.dialog.value=!1,t.dialog.data={}}).catch(function(){return t.$notify({group:"main",title:"Error !",type:"error",text:"Unable to edit admin!"})})}},getAdmins:function(){var t=this;this.loading=!0;var a=window.location.protocol+"//"+window.location.hostname+":4243";fetch("".concat(a,"/admin/admins"),{method:"GET",credentials:"include"}).then(function(t){return t.json()}).then(function(a){t.admins=a,t.loading=!1}).catch(function(){return!1})}},mounted:function(){this.getAdmins()}},s=r,d=e("2877"),c=Object(d["a"])(s,n,i,!1,null,null,null);c.options.__file="Admins.vue";a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0cef8c.3530cea8.js.map