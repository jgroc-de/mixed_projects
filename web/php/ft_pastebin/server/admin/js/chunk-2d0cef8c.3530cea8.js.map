{"version":3,"sources":["webpack:///./src/views/Admins.vue?b502","webpack:///src/views/Admins.vue","webpack:///./src/views/Admins.vue?3fdd","webpack:///./src/views/Admins.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","grid-list-md","row","wrap","xs12","staticClass","_v","headers","header","items","admins","loading","hide-actions","scopedSlots","_u","key","fn","props","_s","item","id","login","date","small","on","click","$event","stopPropagation","edit","del","fluid","md6","label","model","value","callback","$$v","expression","type","pass","color","add","max-width","dialog","$set","data","flat","nativeOn","update","staticRenderFns","Adminsvue_type_script_lang_js_","name","text","align","sortable","methods","_this","formData","FormData","append","path","window","location","protocol","hostname","fetch","concat","method","credentials","body","then","res","ok","$notify","group","title","getAdmins","catch","_ref","_this2","confirm","_ref2","filter","_ref3","i","_objectSpread","_this3","JSON","stringify","_this4","response","json","mounted","views_Adminsvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0cef8c.3530cea8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-subheader',{staticClass:\"title\"},[_vm._v(\"Admins\")]),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.header,\"items\":_vm.admins,\"loading\":_vm.loading,\"hide-actions\":\"\"},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('tr',[_c('td',[_vm._v(_vm._s(props.item.id))]),_c('td',[_vm._v(_vm._s(props.item.login))]),_c('td',[_vm._v(_vm._s(props.item.date))]),_c('td',{staticClass:\"text-xs-right\"},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.edit(props.item)}}},[_vm._v(\"edit\")]),_c('v-icon',{attrs:{\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.del(props.item)}}},[_vm._v(\"delete\")])],1)])]}}])})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-subheader',{staticClass:\"title\"},[_vm._v(\"Add Admin\")]),_c('v-card',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Login\"},model:{value:(_vm.login),callback:function ($$v) {_vm.login=$$v},expression:\"login\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"type\":\"password\",\"label\":\"Password\"},model:{value:(_vm.pass),callback:function ($$v) {_vm.pass=$$v},expression:\"pass\"}})],1)],1),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.add($event)}}},[_vm._v(\"ADD\")])],1)],1)],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.dialog.value),callback:function ($$v) {_vm.$set(_vm.dialog, \"value\", $$v)},expression:\"dialog.value\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Edit\")])]),_c('v-card-text',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\",\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Login\"},model:{value:(_vm.dialog.data.login),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"login\", $$v)},expression:\"dialog.data.login\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"type\":\"password\",\"label\":\"Password\"},model:{value:(_vm.dialog.data.pass),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"pass\", $$v)},expression:\"dialog.data.pass\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue\",\"flat\":\"\"},nativeOn:{\"click\":function($event){_vm.dialog.value = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"blue\"},nativeOn:{\"click\":function($event){return _vm.update($event)}}},[_vm._v(\"Save\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-container grid-list-md>\n        <v-layout row wrap>\n          <v-flex xs12>\n            <v-subheader class=\"title\">Admins</v-subheader>\n            <v-data-table\n                  :headers=\"header\"\n                  :items=\"admins\"\n                  :loading=\"loading\"\n                  hide-actions\n                  class=\"elevation-1\"\n              >\n                  <template slot=\"items\" slot-scope=\"props\">\n                      <tr>\n                          <td>{{ props.item.id }}</td>\n                          <td>{{ props.item.login }}</td>\n                          <td>{{ props.item.date }}</td>\n                          <td class=\"text-xs-right\">\n                              <v-icon small class=\"mr-2\" @click.stop=\"edit(props.item)\">edit</v-icon>\n                              <v-icon small @click.stop=\"del(props.item)\">delete</v-icon>\n                          </td>\n                      </tr>\n                  </template>\n              </v-data-table>\n            </v-flex>\n            <v-flex xs12>\n                <v-subheader class=\"title\">Add Admin</v-subheader>\n                <v-card>\n                    <v-container fluid>\n                        <v-layout row wrap>\n                            <v-flex xs12 md6>\n                                <v-text-field v-model=\"login\" label=\"Login\"></v-text-field>\n                            </v-flex>\n                            <v-flex xs12 md6>\n                                <v-text-field v-model=\"pass\" type=\"password\" label=\"Password\"></v-text-field>\n                            </v-flex>\n                        </v-layout>\n                        <v-btn color=\"primary\" @click.stop=\"add\">ADD</v-btn>\n                    </v-container>\n                </v-card>\n            </v-flex>\n        </v-layout>\n    </v-container>\n    <v-dialog v-model=\"dialog.value\" max-width=\"500px\">\n        <v-card>\n            <v-card-title>\n                <span class=\"headline\">Edit</span>\n            </v-card-title>\n\n            <v-card-text>\n                <v-container grid-list-md>\n                <v-layout wrap row>\n                    <v-flex xs12>\n                        <v-text-field v-model=\"dialog.data.login\" label=\"Login\"></v-text-field>\n                    </v-flex>\n                    <v-flex xs12>\n                        <v-text-field v-model=\"dialog.data.pass\" type=\"password\" label=\"Password\"></v-text-field>\n                    </v-flex>\n                </v-layout>\n                </v-container>\n            </v-card-text>\n\n            <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"blue\" flat @click.native=\"dialog.value = false\">Cancel</v-btn>\n                <v-btn color=\"blue\" @click.native=\"update\">Save</v-btn>\n            </v-card-actions>\n        </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\n\n  export default {\n    name: 'admins',\n    data() {\n      return {\n        login: '',\n        pass: '',\n        header: [\n          { text: 'ID', value: 'id' },\n          { text: 'Login', value: 'login' },\n          { text: 'Date', value: 'date' },\n          { text: 'Actions', value: 'name', align: 'right', sortable: false }\n        ],\n        admins: [],\n        loading: true,\n        dialog: { value: false, data: {} }\n      }\n    },\n    methods: {\n        add() {\n            const formData = new FormData();\n            formData.append('login', this.login)\n            formData.append('pass', this.pass)\n            const path = window.location.protocol + '//' + window.location.hostname + ':4243';\n            fetch(`${path}/admin/addAdmin`, { method: 'POST', credentials: 'include', body: formData })\n            .then((res) => {\n                if (res.ok)\n                    return res;\n                throw res;\n            }).then(res => {\n                this.$notify({ group: 'main', title: 'Success !', type: 'success', text: 'Admin added!'})\n                this.login = '';\n                this.pass = '';\n                this.getAdmins();\n            })\n            .catch(() =>  this.$notify({ group: 'main', title: 'Error !', type: 'error', text: 'Unable to add admin!'}))\n        },\n        del({ id }) {\n            if (!confirm(\"Are you sure ?\"))\n                return ;\n            const path = window.location.protocol + '//' + window.location.hostname + ':4243';\n            fetch(`${path}/admin/delAdmin/${id}`, { method: 'GET', credentials: 'include' })\n            .then(({ ok }) => {\n                if (!ok) {\n                    this.$notify({ group: 'main', title: 'Error !', type: 'error', text: 'Unable to remove admin!'});\n                    return ;\n                }\n                this.admins = this.admins.filter(({ id: i }) => i !== id)\n                this.$notify({ group: 'main', title: 'Success !', type: 'success', text: 'Admin removed!'});\n            })\n        },\n        edit(item) {\n            this.dialog.value = true;\n            this.dialog.data = {...item};\n        },\n        update() {\n            if (this.dialog.value == false)\n                return ;\n            const path = window.location.protocol + '//' + window.location.hostname + ':4243';\n            const formData = new FormData();\n            formData.append('data', JSON.stringify(this.dialog.data))\n            fetch(`${path}/admin/updateAdmin`, { method: 'POST', credentials: 'include', body: formData })\n                .then((res) => {\n                    if (res.ok)\n                        return res;\n                    throw res;\n                }).then(res => {\n                    this.$notify({ group: 'main', title: 'Success !', type: 'success', text: 'Admin edited!'})\n                    this.dialog.value = false;\n                    this.dialog.data = {};\n                })\n                .catch(() =>  this.$notify({ group: 'main', title: 'Error !', type: 'error', text: 'Unable to edit admin!'}))\n        },\n        getAdmins() {\n            this.loading = true;\n            const path = window.location.protocol + '//' + window.location.hostname + ':4243';\n            fetch(`${path}/admin/admins`, { method: 'GET', credentials: 'include' })\n                .then(response => response.json())\n                .then((admins) => {\n                    this.admins = admins;\n                    this.loading = false;\n                })\n                .catch(() => false);\n        }\n    },\n    mounted() {\n      this.getAdmins();\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admins.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admins.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admins.vue?vue&type=template&id=c1510d12&\"\nimport script from \"./Admins.vue?vue&type=script&lang=js&\"\nexport * from \"./Admins.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Admins.vue\"\nexport default component.exports"],"sourceRoot":""}